<!DOCTYPE html>
</div>


<div id="messages"></div>


<script>
// --- Firebase Config ---
const firebaseConfig = {
apiKey: "AIzaSyDyqLW6K7aMZudaGHRvxrceQDaANQE4c4Q",
authDomain: "local-to-firebass.firebaseapp.com",
databaseURL: "https://local-to-firebass-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId: "local-to-firebass",
storageBucket: "local-to-firebass.appspot.com",
messagingSenderId: "121890064671",
appId: "1:121890064671:web:9143764a66282571c1c82a"
};


// Initialize Firebase
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.database();


// Dummy dictionary API fallback for synonyms/antonyms
async function fetchWordData(word) {
try {
const res = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);
const data = await res.json();
if (Array.isArray(data) && data[0]) {
const meanings = data[0].meanings;
let syns = [], ants = [];
meanings.forEach(m => {
m.synonyms && (syns = syns.concat(m.synonyms));
m.antonyms && (ants = ants.concat(m.antonyms));
});
return {
word: data[0].word,
meaning: meanings[0]?.definitions[0]?.definition || "No definition found",
synonyms: [...new Set(syns)].slice(0, 5),
antonyms: [...new Set(ants)].slice(0, 5)
};
}
} catch (e) {
console.error("Error fetching word data", e);
}
return { word, meaning: "Not found", synonyms: [], antonyms: [] };
}


// Save word to realtime database
async function saveWord() {
const word = document.getElementById("wordInput").value.trim();
if (!word) return alert("Enter a word");
const data = await fetchWordData(word);
db.ref("words").push({ ...data, time: Date.now() });
document.getElementById("wordInput").value = "";
}


// Listen for changes in real-time
const wordsRef = db.ref("words");
wordsRef.on("value", (snapshot) => {
const data = snapshot.val();
const container = document.getElementById("messages");
container.innerHTML = "";
for (let id in data) {
const item = data[id];
const div = document.createElement("div");
div.className = "card";
div.innerHTML = `
<div class="word">${item.word}</div>
<div class="meaning">Meaning: ${item.meaning}</div>
<div class="section-title">Synonyms:</div>
<div>${item.synonyms && item.synonyms.length ? item.synonyms.join(", ") : "None"}</div>
<div class="section-title">Antonyms:</div>
<div>${item.antonyms && item.antonyms.length ? item.antonyms.join(", ") : "None"}</div>
`;
container.appendChild(div);
}
});
</script>
</body>
</html>
